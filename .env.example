# Announcable Environment Configuration
# This is the single source of truth for all environment variables.
# Used by: docker-compose (dev & prod), Makefile (dev-air), and CI.
# The Go app reads env vars from the process environment (os.Getenv),
# NOT from a .env file directly. The runner (Make/Docker) injects them.
#
# For personal overrides in development, create backend/.env.local
# (already gitignored). It is sourced after this file by `make dev-air`.

# App
ENV=development
BASE_URL=http://localhost:8080
PORT=8080
ADMIN_USER_ID=

# Axiom (optional - for production logging)
AXIOM_DATASET=
AXIOM_TOKEN=
AXIOM_SYNC=false

# Postgres
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=announcable
POSTGRES_PASSWORD=announcable
POSTGRES_NAME=announcable

# PG Admin
PGADMIN_DEFAULT_EMAIL=admin@localhost.com
PGADMIN_DEFAULT_PASSWORD=admin
PGADMIN_PORT=5050

# Minio
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_ENDPOINT=localhost:9000
MINIO_REGION=us-east-1
MINIO_USE_SSL=false
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin

# Email Configuration
# For development: mailcatcher runs on localhost:1025, no auth needed.
# To disable email entirely, set SMTP_HOST= (empty).
# For production: configure your SMTP provider (e.g. Postmark).
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_TLS=false
EMAIL_FROM_ADDRESS=noreply@localhost.com

# Company Info (optional - shown in emails)
COMPANY_NAME=Announcable
COMPANY_ADDRESS=
SUPPORT_EMAIL=support@localhost.com

# Rate Limiting
# Limits for public API endpoints (widget config, release notes, metrics, likes)
# Format: requests per interval (token bucket algorithm)
RATE_LIMIT_PUBLIC_REQUESTS=100
RATE_LIMIT_PUBLIC_MAX_TOKENS=100
RATE_LIMIT_PUBLIC_REFILL_SECONDS=60
# Limits for authenticated endpoints (higher limits for authenticated users)
RATE_LIMIT_AUTHENTICATED_REQUESTS=1000
RATE_LIMIT_AUTHENTICATED_MAX_TOKENS=1000
RATE_LIMIT_AUTHENTICATED_REFILL_SECONDS=60
